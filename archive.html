<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Komdu's Archives</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #1a1a1a;
            color: #e0e0e0;
            font-family: 'Roboto Mono', monospace;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .container {
            border: 4px solid #333;
            background-color: #222;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        
        h1, h2, h3 {
            font-family: 'Press Start 2P', cursive;
            color: #fff;
            margin-bottom: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 24px;
            text-shadow: 2px 2px 0 #555;
            margin: 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }
        
        h2 {
            font-size: 18px;
            color: #4a8df8;
            margin-top: 30px;
            text-align: left;
        }
        
        nav {
            text-align: center;
            margin: 30px 0;
        }
        
        nav a {
            display: inline-block;
            padding: 10px 20px;
            margin: 0 5px;
            background-color: #333;
            color: #e0e0e0;
            text-decoration: none;
            border-radius: 4px;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        nav a:hover {
            background-color: #4a8df8;
            color: #fff;
            transform: translateY(-2px);
        }
        
        .back-btn {
            background-color: #66c2a5 !important;
        }
        
        .back-btn:hover {
            background-color: #7dd1b6 !important;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–æ–≤ */
        .archive-list {
            margin: 20px 0;
        }
        
        .archive-item {
            background-color: #2a2a2a;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #4a8df8;
            border-radius: 0 4px 4px 0;
            transition: all 0.3s ease;
        }
        
        .archive-item:hover {
            background-color: #333;
            transform: translateX(5px);
        }
        
        .archive-name {
            font-weight: bold;
            color: #66c2a5;
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .archive-desc {
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .archive-meta {
            display: flex;
            justify-content: space-between;
            color: #777;
            font-size: 14px;
            border-top: 1px solid #333;
            padding-top: 10px;
            margin-top: 10px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #888;
        }
        
        .error {
            text-align: center;
            padding: 40px;
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
            border-radius: 4px;
            margin: 20px 0;
        }
        
        .last-updated {
            text-align: center;
            color: #777;
            margin: 20px 0;
            font-size: 14px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loader {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 4px solid #333;
            border-top: 4px solid #4a8df8;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            h1 {
                font-size: 18px;
            }
            
            h2 {
                font-size: 16px;
            }
            
            nav a {
                display: block;
                margin: 10px 0;
            }
            
            .archive-meta {
                flex-direction: column;
            }
            
            .archive-meta span {
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>KOMDU'S ARCHIVES</h1>
        
        <nav>
            <a href="index.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥</a>
            <a href="#" onclick="loadArchives()">–û–±–Ω–æ–≤–∏—Ç—å</a>
        </nav>
        
        <div class="last-updated" id="lastUpdated">
            –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –Ω–∏–∫–æ–≥–¥–∞
        </div>
        
        <div id="archivesContainer">
            <div class="loading">
                <div class="loader"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...</p>
            </div>
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞—Ä—Ö–∏–≤–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub
        async function loadArchives() {
            const archivesContainer = document.getElementById('archivesContainer');
            const lastUpdatedElement = document.getElementById('lastUpdated');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            archivesContainer.innerHTML = `
                <div class="loading">
                    <div class="loader"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...</p>
                </div>
            `;
            
            try {
                // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
                const repoUrl = 'https://api.github.com/repos/Komdu/Komdu/contents/archive/';
                
                const response = await fetch(repoUrl);
                
                if (!response.ok) {
                    throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);
                }
                
                const files = await response.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                lastUpdatedElement.textContent = `–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ${new Date().toLocaleString()}`;
                
                // –ï—Å–ª–∏ –ø–∞–ø–∫–∞ –ø—É—Å—Ç–∞
                if (!files || files.length === 0) {
                    archivesContainer.innerHTML = `
                        <div class="error">
                            <p>–ü–∞–ø–∫–∞ archives/archive –ø—É—Å—Ç–∞ –∏–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç</p>
                        </div>
                    `;
                    return;
                }
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ñ–∞–π–ª—ã
                let archivesHTML = '<h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã</h2><div class="archive-list">';
                
                files.forEach(file => {
                    if (file.type === 'file') {
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–∫–æ–Ω–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞
                        let icon = 'üìÑ';
                        if (file.name.endsWith('.zip')) icon = 'üì¶';
                        if (file.name.endsWith('.rar')) icon = 'üì¶';
                        if (file.name.endsWith('.txt')) icon = 'üìù';
                        if (file.name.endsWith('.md')) icon = 'üìù';
                        
                        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
                        const sizeKB = (file.size / 1024).toFixed(1);
                        
                        archivesHTML += `
                            <div class="archive-item">
                                <div class="archive-name">${icon} ${file.name}</div>
                                <div class="archive-desc">
                                    –ê—Ä—Ö–∏–≤–Ω—ã–π —Ñ–∞–π–ª –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Komdu
                                </div>
                                <div class="archive-meta">
                                    <span>–†–∞–∑–º–µ—Ä: ${sizeKB} KB</span>
                                    <span><a href="${file.download_url}" target="_blank">–°–∫–∞—á–∞—Ç—å</a></span>
                                    <span><a href="${file.html_url}" target="_blank">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ GitHub</a></span>
                                </div>
                            </div>
                        `;
                    }
                });
                
                archivesHTML += '</div>';
                archivesContainer.innerHTML = archivesHTML;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—Ä—Ö–∏–≤–æ–≤:', error);
                archivesContainer.innerHTML = `
                    <div class="error">
                        <p>–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—Ä—Ö–∏–≤–æ–≤: ${error.message}</p>
                        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–∞–ø–∫–∞ archives/archive</p>
                    </div>
                `;
            }
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∞—Ä—Ö–∏–≤—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadArchives);
    </script>
</body>
</html>
